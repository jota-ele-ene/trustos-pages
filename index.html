<html>
  <head>
    <meta charset="UTF-8">
    <meta name="description" content="Nuestra plataforma de certificación Blockchain basada en TrustOS, te permite crear y autentificar págias web de una forma rápida y sencilla">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Certificados Blockchain de páginas web con TrustOS – Telefónica TECH</title>
    <link rel="stylesheet" href="resources/style.css" type="text/css" media="all">
    <link rel="stylesheet" href="https://trustos.telefonica.com/wp-content/themes/blockchain-telefonica/style.css" type="text/css" media="all">
    <link rel="stylesheet" href="https://trustos.telefonica.com/wp-content/themes/blockchain-telefonica/css/custom.css" type="text/css" media="all">
    <link rel="stylesheet" href="https://trustos.telefonica.com/wp-content/themes/blockchain-telefonica/css/certif.css" type="text/css" media="all">
    <link rel="stylesheet" id="fonts-css-css" href="https://trustos.telefonica.com/wp-content/themes/blockchain-telefonica/fonts/fonts.css" type="text/css" media="all">
    <link rel="stylesheet" href="resources/iconos-certif.css" type="text/css" media="all">
  </head>
  <body class="home page-template page-template-template-cerfificacion page-template-template-cerfificacion-php page page-id-23 wp-custom-logo wp-embed-responsive header-full-width full-width-content genesis-breadcrumbs-hidden genesis-footer-widgets-visible first-block-core-shortcode chakra-ui-light">
    <div class="utility-bar" style="width: -webkit-fill-available;">
      <div class="wrap">
        <div class="utility-bar-left">
          <section id="block-2" class="widget widget_block"><div class="widget-wrap">
            <div class="textwidget custom-html-widget">
              <img decoding="async" class="logo-tlf-tech-header" src="https://trustos.telefonica.com/wp-content/uploads/2021/09/telefonica_tech-menu.svg">
            </div>
          </div></section>
        </div>
        <div class="utility-bar-right">
          <section id="block-3" class="widget widget_block"><div class="widget-wrap">
            <div class="textwidget custom-html-widget">
              <img decoding="async" class="claim-tlf-tech-header" src="https://trustos.telefonica.com/wp-content/uploads/2021/09/claim_AiOfThings.svg">
            </div>
          </div></section>
        </div>
      </div>
    </div>
    <div class="second-line">
        <a href="https://trustos.telefonica.com/" rel="home" itemprop="url">
          <img width="451" height="147" src="https://trustos.telefonica.com/wp-content/uploads/2021/09/logo-trustos.svg" class="trustos-logo" alt="" decoding="async" loading="lazy">
        </a>
    </div>
    <div style="margin: 0 auto!important;">
      <!-- Info bar section -->
    	<div class="certif-form-verif_section full-width-content entry-content alignfull">
    		<div class="certif-form-verif_container container">
    			<form id="verificar-form" class="verificar-form" action="/verificar-certificado/">
    				<h1 class="top-line">Comprueba si el contenido de una web está certificado</h1>
            <p style="color: white; font-family: var(--font-light);"><b>TrustOS</b> es la herramienta de certificación de contenido web basada en blockchain. Si una página web fue certificada cuando se publicó, podrás verificar que no ha sido modificada desde entonces. </p>
    				<div class="tabs tabs-home-verificar">

    					<div id="tabs-content">
    						<div id="tab-id-certificado" class="tab-content" style="">
    							<div class="form-row">
    								<input type="hidden" name="hash" id="hash" value="">
    								<input type="hidden" name="hash2" id="hash2" value="">
                    <input class="verificar" type="text" name="verificar" id="verificar1" onfocus="this.value = ''" onblur="this.value = 'Dinos la URL de la página que quieres verificar'">
    								<button type="submit" class="button celeste transition btn-verificar" id="btn_submit">VERIFICAR</button>
    							</div>
    						</div>
    					</div>
    				</div>
    				<div class="powered-by-trustos">
    					<img src="https://trustos.telefonica.com/wp-content/plugins/renovatio-trustos-connect/img/ico-trustos.svg">
    				</div>
    			</form>
    		</div>
    	</div>
    </div>
    <div class="footer-widgets" id="genesis-footer-widgets"><h2 class="genesis-sidebar-title screen-reader-text">Footer</h2><div class="wrap"><div class="widget-area footer-widgets-1 footer-widget-area"><section id="text-2" class="widget widget_text"><div class="widget-wrap">			<div class="textwidget"><p><img decoding="async" class="tel-logo-footer" src="https://trustos.telefonica.com/wp-content/themes/blockchain-telefonica/images/telefonica-logo.svg" alt=""></p>
      <p>Telefónica Tech es la compañía líder en transformación digital. La compañía cuenta con una amplia oferta de servicios y soluciones tecnológicas integradas de Ciberseguridad, Cloud, IoT, Big Data o Blockchain.</p>
      </div>
      		</div></section>
      <section id="custom_html-2" class="widget_text widget widget_custom_html"><div class="widget_text widget-wrap"><div class="textwidget custom-html-widget"><div class="social-icons-wrapper">
      <ul class="social-icons">
      	<li><a href="https://twitter.com/TelefonicaTech" target="_blank" rel="noopener"><i class="tel-twitter-alt"></i></a></li>
      	<li><a href="https://www.instagram.com/telefonicatech/" target="_blank" rel="noopener"><i class="tel-instagram"></i></a></li>
       	<li><a href="https://www.twitch.tv/telefonicatech" target="_blank" rel="noopener" class="footer-tel-twitch"><i class="tel-twitch"></i></a></li>
        <li><a href="https://www.linkedin.com/company/telefonicatech" target="_blank" rel="noopener"><i class="tel-linkedin"></i></a></li>
      	 	<li><a href="https://www.youtube.com/c/TelefonicaTech/" target="_blank" rel="noopener"><i class="tel-youtube-alt"></i></a></li>
      	<li><a href="https://empresas.blogthinkbig.com/telefonica-tech/" target="_blank" rel="noopener"><i class="tel-comment"></i></a></li>
      </ul>
      </div></div></div></section>
      </div><div class="widget-area footer-widgets-2 footer-widget-area"><section id="text-3" class="widget widget_text"><div class="widget-wrap">			<div class="textwidget"><p>Telefónica miembro de las iniciativas</p>
      </div>
      		</div></section>
      <section id="custom_html-3" class="widget_text widget widget_custom_html"><div class="widget_text widget-wrap"><div class="textwidget custom-html-widget"><div class="footer-logos-wrapper">
      <ul class="footerlogos-list">
       	<!--<li><a href="https://www.hyperledger.org/" target="_blank" rel="noopener"><img class="footer-logos-img hyper" src="/wp-content/themes/blockchain-telefonica/images/hyperledger-white.png" alt="" /></a></li>-->
       	<li><a href="https://inatba.org/" target="_blank" rel="noopener"><img class="footer-logos-img inatba" src="https://trustos.telefonica.com/wp-content/themes/blockchain-telefonica/images/inatba.png" alt=""></a></li>
       	<li><a href="https://alastria.io/" target="_blank" rel="noopener"><img class="footer-logos-img alastria" src="https://alastria.io/wp-content/uploads/2022/09/alastria_blanco_2.png" alt=""></a></li>
      </ul>
      </div></div></div></section>
      </div><div class="widget-area footer-widgets-3 footer-widget-area"><section id="custom_html-4" class="widget_text widget widget_custom_html"><div class="widget_text widget-wrap"><div class="textwidget custom-html-widget"><div class="columna-menu-politica-footer">
      <h3 class="h5 font-bold">Telefónica S.A.</h3>
      <ul class="menu-politica-footer">
       	<li><a href="/aviso-legal" target="_blank" rel="noopener">Aviso Legal</a></li>
       	<li><a href="https://www.telefonica.com/es/cookies" target="_blank" rel="noopener">Política de Cookies</a></li>
       	<li><a href="https://www.telefonica.com/es/telefonica-accesible/" target="_blank" rel="noopener">Accesibilidad</a></li>
       	<li><a href="/politica-privacidad" class="" target="_blank" rel="noopener">Privacidad</a></li>
      	<li><a href="/contacto" class="" target="_blank" rel="noopener">Contacto</a></li>
      	<li><a href="#" class="ot-sdk-show-settings">Configurar/Rechazar cookies</a></li>
      </ul>
      </div></div></div></section>
    </div></div></div>
  </body>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
  <script type="module">
    import { extract } from "https://esm.sh/@extractus/article-extractor@latest"

    const loadFeed = async (url) => {
      const data = await extract(url, {
        descriptionLengthThreshold: 120,
        contentLengthThreshold: 300
      }, {
        proxy: null
      })
      return Object.assign(Object.create(null), data) // use pure object to hold data
    }

    const init = () => {

      const form = document.getElementById('verificar-form')
      const url = document.getElementById('verificar1')
      const button = document.getElementById('btn_submit')

      var verificar = querySt("verificar");
      url.value = verificar == null ? "Dinos la URL de la página que quieres verificar" : decodeURIComponent(verificar)





      const onSubmit = async (e) => {
        e.preventDefault()
        const feedurl = url.value.trim()
        if (!feedurl || button.disabled) {
          return false
        }
        button.setAttribute('disabled', '')
        try {
          const oembed = await loadFeed(feedurl)
          const content = JSON.stringify(oembed, undefined, '  ')
          console.log(content)
          const externalID = hash(content)
          console.log(externalID)
          window.location.href = "https://trustos.telefonica.com/verificar-certificado/?verificar="+externalID;
        } catch (err) {
          console.error(err.message);
        } finally {
          button.removeAttribute('disabled')
        }
      }
      form.addEventListener('submit', onSubmit)
    }

    window.onload = init

    function hash(content) {
        try {
    				// First hash (WordArray hash)
            const wordArray = CryptoJS.lib.WordArray.create(content);
            const firstHash = CryptoJS.SHA256(wordArray);
    				console.log("First hash Hex:" + firstHashHex)
            const firstHashHex = firstHash.toString(CryptoJS.enc.Hex)
    				console.log("First hash Hex:" + firstHashHex)
            return firstHashHex

    				// Second hash (WordArray hash)
            //const firstHashWordArray = CryptoJS.enc.Hex.parse(firstHashHex);
            //const secondHash = CryptoJS.SHA256(firstHashWordArray);
    				//const secondHashHex = secondHash.toString(CryptoJS.enc.Hex)
    				//console.log("Double hash:" + secondHashHex)

    				// Returns the double hash
    				//return secondHashHex
        } catch (err) {
            console.log(`Error hashing the file content: ${err}`)
            throw err
        }
    }

    function querySt(ji) {
        var hu = window.location.search.substring(1);
        var gy = hu.split("&");

        for (var i=0;i<gy.length;i++) {
            var ft = gy[i].split("=");
            if (ft[0] == ji) {
                return ft[1];
            }
        }

        return null;
    }

  </script>
</html>
